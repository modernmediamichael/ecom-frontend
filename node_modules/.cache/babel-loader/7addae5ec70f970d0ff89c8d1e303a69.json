{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar State = function () {\n  function State(state, methods) {\n    (0, _classCallCheck3.default)(this, State);\n    this.state = state;\n\n    if (methods) {\n      for (var i in methods) {\n        this[i] = methods[i].bind(this);\n      }\n    }\n\n    this.subscriptions = [];\n  }\n\n  (0, _createClass3.default)(State, [{\n    key: \"setState\",\n    value: function setState(state) {\n      var _this = this;\n\n      Object.assign(this.state, state);\n      this.subscriptions.forEach(function (subscription) {\n        subscription(_this.state);\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(fn) {\n      this.subscriptions.push(fn);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(fn) {\n      var index = this.subscriptions.indexOf(fn);\n\n      if (index > -1) {\n        this.subscriptions.splice(index, 1);\n      }\n    }\n  }]);\n  return State;\n}();\n\nexports.default = State;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["../src/state.js"],"names":["State","methods","state","Object","subscription","fn","index"],"mappings":";;;;;;;;;;;;;;;;;;;;IAAMA,K;AACL,WAAA,KAAA,CAAA,KAAA,EAAA,OAAA,EAA2B;AAAA,KAAA,GAAA,gBAAA,CAAA,OAAA,EAAA,IAAA,EAAA,KAAA;AAC1B,SAAA,KAAA,GAAA,KAAA;;AACA,QAAA,OAAA,EAAY;AACX,WAAI,IAAJ,CAAA,IAAA,OAAA,EAAqB;AACpB,aAAA,CAAA,IAAUC,OAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAV,IAAUA,CAAV;AACA;AACD;;AACD,SAAA,aAAA,GAAA,EAAA;AACA;;;;6BACQC,K,EAAM;AAAA,UAAA,KAAA,GAAA,IAAA;;AACdC,MAAAA,MAAAA,CAAAA,MAAAA,CAAc,KAAdA,KAAAA,EAAAA,KAAAA;AACA,WAAA,aAAA,CAAA,OAAA,CAA2B,UAAA,YAAA,EAAgB;AAC1CC,QAAAA,YAAAA,CAAa,KAAA,CAAbA,KAAAA,CAAAA;AADD,OAAA;AAGA;;;8BACSC,E,EAAG;AACZ,WAAA,aAAA,CAAA,IAAA,CAAA,EAAA;AACA;;;gCACWA,E,EAAG;AACd,UAAIC,KAAAA,GAAQ,KAAA,aAAA,CAAA,OAAA,CAAZ,EAAY,CAAZ;;AACA,UAAGA,KAAAA,GAAQ,CAAX,CAAA,EAAc;AACb,aAAA,aAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACD;;;;;kBAGaN,K","sourcesContent":["class State{\n\tconstructor(state, methods){\n\t\tthis.state = state\n\t\tif(methods) {\n\t\t\tfor(let i in methods){\n\t\t\t\tthis[i] = methods[i].bind(this)\n\t\t\t}\n\t\t}\n\t\tthis.subscriptions = []\n\t}\n\tsetState(state){\n\t\tObject.assign(this.state, state)\n\t\tthis.subscriptions.forEach(subscription => {\n\t\t\tsubscription(this.state)\n\t\t})\n\t}\n\tsubscribe(fn){\n\t\tthis.subscriptions.push(fn)\n\t}\n\tunsubscribe(fn){\n\t\tlet index = this.subscriptions.indexOf(fn)\n\t\tif(index > -1){\n\t\t\tthis.subscriptions.splice(index, 1)\n\t\t}\n\t}\n}\n\nexport default State"]},"metadata":{},"sourceType":"script"}