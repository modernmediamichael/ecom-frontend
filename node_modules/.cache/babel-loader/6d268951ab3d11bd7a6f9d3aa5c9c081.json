{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michaelmuniz/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/michaelmuniz/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/michaelmuniz/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";// import \"./cart.css\";\nvar WishListScreen=function WishListScreen(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carts=_useState2[0],setCarts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),payload=_useState4[0],setPayloader=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasError=_useState6[0],setError=_useState6[1];function fetchCart(){return _fetchCart.apply(this,arguments);}function _fetchCart(){_fetchCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:4000/cart\");case 2:res=_context.sent;res.json().then(function(res){console.log(res.data.items);setCarts(res.data.items);setPayloader(res.data);}).catch(function(error){setError(error);});case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchCart.apply(this,arguments);}function increaseQty(_x){return _increaseQty.apply(this,arguments);}function _increaseQty(){_increaseQty=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:4000/cart\",{method:\"POST\",body:JSON.stringify({productId:id,quantity:1}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}});case 3:res=_context2.sent;console.log(res);fetchCart();alert(\"Item Increamented\");_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return _increaseQty.apply(this,arguments);}function emptyCart(){return _emptyCart.apply(this,arguments);}function _emptyCart(){_emptyCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"http://localhost:4000/cart/empty-cart\",{method:\"DELETE\"});case 3:res=_context3.sent;_context3.next=6;return res.json();case 6:fetchCart();props.history.push(\"/\");_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return _emptyCart.apply(this,arguments);}useEffect(function(){fetchCart();},[]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"banner-innerpage\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 align-self-center text-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Wishlist\"})})})})})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"spacer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row shop-listing\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table shop-table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"b-0\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"b-0\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"b-0\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"b-0 text-right\",children:\"Total Price\"})]}),carts.map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.productId.name}),/*#__PURE__*/_jsx(\"td\",{children:item.productId.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return increaseQty(item.productId._id);},className:\"btn btn-primary btn-sm\",children:\"+\"}),item.quantity,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm\",children:\"-\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium m-b-30\",children:item.total})})]});}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{colspan:\"3\",align:\"right\",children:[\"Subtotal :\",payload.subTotal]}),/*#__PURE__*/_jsx(\"td\",{colspan:\"4\",align:\"right\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(e){return emptyCart();},children:\"Empty cart\"})})]})]})})})})})})})]});};export default WishListScreen;","map":{"version":3,"sources":["/Users/michaelmuniz/Desktop/client/src/screens/WishListScreen.js"],"names":["React","useState","useEffect","Link","WishListScreen","props","carts","setCarts","payload","setPayloader","hasError","setError","fetchCart","fetch","res","json","then","console","log","data","items","catch","error","increaseQty","id","method","body","JSON","stringify","productId","quantity","headers","alert","emptyCart","history","push","map","item","i","name","price","e","_id","total","subTotal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n// import \"./cart.css\";\n\n\nconst WishListScreen = (props) => {\n  const [carts, setCarts] = useState([]);\n  const [payload, setPayloader] = useState({});\n  const [hasError, setError] = useState(false);\n  async function fetchCart() {\n    const res = await fetch(\"http://localhost:4000/cart\");\n    res\n      .json()\n      .then((res) => {\n        console.log(res.data.items);\n        setCarts(res.data.items);\n        setPayloader(res.data);\n      })\n      .catch((error) => {\n        setError(error);\n      });\n  }\n\n  async function increaseQty(id) {\n    try {\n      const res = await fetch(\"http://localhost:4000/cart\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          productId: id,\n          quantity: 1,\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n        },\n      });\n      console.log(res);\n      fetchCart();\n      alert(\"Item Increamented\");\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async function emptyCart() {\n    try {\n      const res = await fetch(\"http://localhost:4000/cart/empty-cart\", {\n        method: \"DELETE\",\n      });\n      await res.json();\n      fetchCart();\n      props.history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  useEffect(() => {\n    fetchCart();\n  }, []);\n  return (\n    <main>\n      <section>\n        <div className=\"banner-innerpage\">\n          <div className=\"container\">\n            <div className=\"row justify-content-center\">\n              <div className=\"col-md-6 align-self-center text-center\">\n                <h1 className=\"title\">Wishlist</h1>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section>\n        <div className=\"spacer\">\n          <div className=\"container\">\n            <div className=\"row mt-5\">\n              <div className=\"col-lg-9\">\n                <div className=\"row shop-listing\">\n                  <table className=\"table shop-table\">\n                    <tr>\n                      <th className=\"b-0\">Name</th>\n                      <th className=\"b-0\">Price</th>\n                      <th className=\"b-0\">Quantity</th>\n                      <th className=\"b-0 text-right\">Total Price</th>\n                    </tr>\n                    {carts.map((item, i) => (\n                      <tr>\n                        <td>{item.productId.name}</td>\n                        <td>{item.productId.price}</td>\n                        <td>\n                          <button\n                            onClick={(e) => increaseQty(item.productId._id)}\n                            className=\"btn btn-primary btn-sm\"\n                          >\n                            +\n                          </button>\n                          {item.quantity}\n                          <button className=\"btn btn-primary btn-sm\">-</button>\n                        </td>\n                        <td className=\"text-right\">\n                          <h5 className=\"font-medium m-b-30\">{item.total}</h5>\n                        </td>\n                      </tr>\n                    ))}\n                    <tr>\n                      <td colspan=\"3\" align=\"right\">\n                        Subtotal :{payload.subTotal}\n                      </td>\n                      <td colspan=\"4\" align=\"right\">\n                        <button\n                          className=\"btn btn-danger\"\n                          onClick={(e) => emptyCart()}\n                        >\n                          Empty cart\n                        </button>\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </main>\n  );\n};\n\nexport default WishListScreen"]},"metadata":{},"sourceType":"module"}