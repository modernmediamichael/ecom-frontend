{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Subscribe = function (_Component) {\n  (0, _inherits3.default)(Subscribe, _Component);\n\n  function Subscribe(props) {\n    (0, _classCallCheck3.default)(this, Subscribe);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Subscribe.__proto__ || Object.getPrototypeOf(Subscribe)).call(this, props));\n\n    _this.state = {};\n\n    if (Array.isArray(_this.props.to)) {\n      _this.multi = true;\n    }\n\n    _this.onChange = _this.onChange.bind(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(Subscribe, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (!this.multi) {\n        return this.props.to.subscribe(this.onChange);\n      }\n\n      this.props.to.forEach(function (to) {\n        to.subscribe(_this2.onChange);\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var _this3 = this;\n\n      if (!this.multi) {\n        return this.props.to.unsubscribe(this.onChange);\n      }\n\n      this.props.to.forEach(function (to) {\n        to.unsubscribe(_this3.onChange);\n      });\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange() {\n      this.setState({\n        changed: true\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props;\n\n      if (!this.multi) {\n        return this.props.children(this.props.to.state);\n      }\n\n      return (_props = this.props).children.apply(_props, (0, _toConsumableArray3.default)(this.props.to.map(function (to) {\n        return to.state;\n      })));\n    }\n  }]);\n  return Subscribe;\n}(_react.Component);\n\nexports.default = Subscribe;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["../src/subscribe.js"],"names":["Subscribe","Array","to","changed"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;;;;;;;IAEMA,S;;;AACL,WAAA,SAAA,CAAA,KAAA,EAAkB;AAAA,KAAA,GAAA,gBAAA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA;;AAAA,QAAA,KAAA,GAAA,CAAA,GAAA,2BAAA,CAAA,OAAA,EAAA,IAAA,EAAA,CAAA,SAAA,CAAA,SAAA,IAAA,MAAA,CAAA,cAAA,CAAA,SAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;;AAEjB,IAAA,KAAA,CAAA,KAAA,GAAA,EAAA;;AACA,QAAGC,KAAAA,CAAAA,OAAAA,CAAc,KAAA,CAAA,KAAA,CAAjB,EAAGA,CAAH,EAAgC;AAC/B,MAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA;;AACD,IAAA,KAAA,CAAA,QAAA,GAAgB,KAAA,CAAA,QAAA,CAAA,IAAA,CAAhB,KAAgB,CAAhB;AANiB,WAAA,KAAA;AAOjB;;;;yCACmB;AAAA,UAAA,MAAA,GAAA,IAAA;;AACnB,UAAI,CAAC,KAAL,KAAA,EAAiB;AAChB,eAAO,KAAA,KAAA,CAAA,EAAA,CAAA,SAAA,CAAwB,KAA/B,QAAO,CAAP;AACA;;AACD,WAAA,KAAA,CAAA,EAAA,CAAA,OAAA,CAAsB,UAAA,EAAA,EAAM;AAC3BC,QAAAA,EAAAA,CAAAA,SAAAA,CAAa,MAAA,CAAbA,QAAAA;AADD,OAAA;AAGA;;;2CACsB;AAAA,UAAA,MAAA,GAAA,IAAA;;AACtB,UAAI,CAAC,KAAL,KAAA,EAAiB;AAChB,eAAO,KAAA,KAAA,CAAA,EAAA,CAAA,WAAA,CAA0B,KAAjC,QAAO,CAAP;AACA;;AACD,WAAA,KAAA,CAAA,EAAA,CAAA,OAAA,CAAsB,UAAA,EAAA,EAAM;AAC3BA,QAAAA,EAAAA,CAAAA,WAAAA,CAAe,MAAA,CAAfA,QAAAA;AADD,OAAA;AAGA;;;+BACS;AACT,WAAA,QAAA,CAAc;AAAEC,QAAAA,OAAAA,EAAhB;AAAc,OAAd;AACA;;;6BACQ;AAAA,UAAA,MAAA;;AACR,UAAI,CAAC,KAAL,KAAA,EAAiB;AAChB,eAAO,KAAA,KAAA,CAAA,QAAA,CAAoB,KAAA,KAAA,CAAA,EAAA,CAA3B,KAAO,CAAP;AACA;;AACD,aAAO,CAAA,MAAA,GAAA,KAAA,KAAA,EAAA,QAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,GAAA,mBAAA,CAAA,OAAA,EAAuB,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,CAAkB,UAAA,EAAA,EAAA;AAAA,eAAMD,EAAAA,CAAN,KAAA;AAAhD,OAA8B,CAAvB,CAAA,CAAP;AACA;;;;;kBAGaF,S","sourcesContent":["import { Component } from 'react'\n\nclass Subscribe extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {}\n\t\tif(Array.isArray(this.props.to)){\n\t\t\tthis.multi = true\n\t\t}\n\t\tthis.onChange = this.onChange.bind(this)\n\t}\n\tcomponentWillMount(){\n\t\tif (!this.multi) {\n\t\t\treturn this.props.to.subscribe(this.onChange)\n\t\t}\n\t\tthis.props.to.forEach(to => {\n\t\t\tto.subscribe(this.onChange)\n\t\t})\n\t}\n\tcomponentWillUnmount() {\n\t\tif (!this.multi) {\n\t\t\treturn this.props.to.unsubscribe(this.onChange)\n\t\t}\n\t\tthis.props.to.forEach(to => {\n\t\t\tto.unsubscribe(this.onChange)\n\t\t})\n\t}\n\tonChange(){\n\t\tthis.setState({ changed: true })\n\t}\n\trender() {\n\t\tif (!this.multi) {\n\t\t\treturn this.props.children(this.props.to.state)\n\t\t}\n\t\treturn this.props.children(...this.props.to.map(to => to.state))\n\t}\n}\n\nexport default Subscribe"]},"metadata":{},"sourceType":"script"}