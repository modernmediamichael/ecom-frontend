{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michaelmuniz/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/michaelmuniz/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/michaelmuniz/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Row,Col,Image,ListGroup,Card,Button}from'react-bootstrap';import Rating from'../components/Rating';import axios from'axios';var ProductScreen=function ProductScreen(_ref){var match=_ref.match;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];useEffect(function(){var fetchProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://ecommerce-app-um.herokuapp.com/api/products/\".concat(match.params.id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setProduct(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProduct(){return _ref2.apply(this,arguments);};}();fetchProduct();},[match]);function addToCart(_x,_x2){return _addToCart.apply(this,arguments);}function _addToCart(){_addToCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,quantity){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/cart\",{method:\"POST\",body:JSON.stringify({productId:id,quantity:quantity}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;alert(\"Item Added To Cart\");console.log(data);_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);alert(\"Something Went Wrong\");console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return _addToCart.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-3\",to:\"/shop\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description: \",product.shortDescription]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?'In Stock':'Out Of Stock'})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return addToCart(product._id,1);},className:\"btn-block\",type:\"button\",disabled:product.inStock===0,children:\"Save To Wishlist\"})})]})})})]})]});};export default ProductScreen;","map":{"version":3,"sources":["/Users/michaelmuniz/Desktop/client/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","Row","Col","Image","ListGroup","Card","Button","Rating","axios","ProductScreen","match","product","setProduct","fetchProduct","get","params","id","data","addToCart","quantity","method","body","JSON","stringify","productId","headers","response","json","alert","console","log","image","name","rating","numReviews","price","shortDescription","countInStock","e","_id","inStock"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, Image, ListGroup, Card, Button } from 'react-bootstrap'\nimport Rating from '../components/Rating'\nimport axios from 'axios'\n\nconst ProductScreen = ( {match} ) => {\n    const [product, setProduct] = useState({})\n\n    useEffect(()=>{\n        const fetchProduct = async () => {\n            const { data } = await axios.get(`https://ecommerce-app-um.herokuapp.com/api/products/${match.params.id}`)\n\n            setProduct(data)\n        }\n        fetchProduct()\n    },[match])\n\n    async function addToCart(id, quantity) {\n        try {\n          const response = await axios.get(\"/api/cart\", {\n            method: \"POST\",\n            body: JSON.stringify({\n              productId: id,\n              quantity: quantity,\n            }),\n            headers: {\n              \"Content-type\": \"application/json; charset=UTF-8\",\n            },\n          });\n          let data = await response.json();\n          alert(\"Item Added To Cart\");\n          console.log(data);\n        } catch (err) {\n          alert(\"Something Went Wrong\");\n          console.log(err);\n        }\n      }\n      \n    return (\n        <>\n            <Link className='btn btn-light my-3' to='/shop'>Go Back</Link>\n            <Row>\n                <Col md={6}>\n                    <Image src={product.image} alt={product.name} fluid />\n                </Col>\n                <Col md={3}>\n                    <ListGroup variant='flush'>\n                        <ListGroup.Item>\n                            <h2>{product.name}</h2>\n                        </ListGroup.Item>\n                        <ListGroup.Item>\n                            <Rating\n                                value={product.rating}\n                                text={`${product.numReviews} reviews`}\n                            />\n                        </ListGroup.Item>\n                        <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\n                        <ListGroup.Item>Description: {product.shortDescription}</ListGroup.Item>\n                    </ListGroup>\n                </Col>\n                <Col md={3}>\n                    <Card>\n                        <ListGroup variant='flush'>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Price:</Col>\n                                    <Col>\n                                        <strong>${product.price}</strong>\n                                    </Col>\n                                </Row>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Status:</Col>\n                                    <Col>\n                                        {product.countInStock > 0 ? 'In Stock' : 'Out Of Stock'}\n                                    </Col>\n                                </Row>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Button onClick={(e) => addToCart(product._id, 1)} className='btn-block' type='button' disabled={product.inStock===0}>\n                                    Save To Wishlist\n                                </Button>\n                            </ListGroup.Item>\n                        </ListGroup>\n                    </Card>\n                </Col>\n            </Row>\n        </>\n    )\n}\n\nexport default ProductScreen"]},"metadata":{},"sourceType":"module"}