{"version":3,"sources":["../src/subscribe.js"],"names":["Subscribe","props","state","Array","isArray","to","multi","onChange","bind","subscribe","forEach","unsubscribe","setState","changed","children","map"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;IAEMA,S;;;AACL,oBAAYC,KAAZ,EAAkB;AAAA;;AAAA,kIACXA,KADW;;AAEjB,QAAKC,KAAL,GAAa,EAAb;AACA,MAAGC,MAAMC,OAAN,CAAc,MAAKH,KAAL,CAAWI,EAAzB,CAAH,EAAgC;AAC/B,SAAKC,KAAL,GAAa,IAAb;AACA;AACD,QAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AANiB;AAOjB;;;;uCACmB;AAAA;;AACnB,OAAI,CAAC,KAAKF,KAAV,EAAiB;AAChB,WAAO,KAAKL,KAAL,CAAWI,EAAX,CAAcI,SAAd,CAAwB,KAAKF,QAA7B,CAAP;AACA;AACD,QAAKN,KAAL,CAAWI,EAAX,CAAcK,OAAd,CAAsB,cAAM;AAC3BL,OAAGI,SAAH,CAAa,OAAKF,QAAlB;AACA,IAFD;AAGA;;;yCACsB;AAAA;;AACtB,OAAI,CAAC,KAAKD,KAAV,EAAiB;AAChB,WAAO,KAAKL,KAAL,CAAWI,EAAX,CAAcM,WAAd,CAA0B,KAAKJ,QAA/B,CAAP;AACA;AACD,QAAKN,KAAL,CAAWI,EAAX,CAAcK,OAAd,CAAsB,cAAM;AAC3BL,OAAGM,WAAH,CAAe,OAAKJ,QAApB;AACA,IAFD;AAGA;;;6BACS;AACT,QAAKK,QAAL,CAAc,EAAEC,SAAS,IAAX,EAAd;AACA;;;2BACQ;AAAA;;AACR,OAAI,CAAC,KAAKP,KAAV,EAAiB;AAChB,WAAO,KAAKL,KAAL,CAAWa,QAAX,CAAoB,KAAKb,KAAL,CAAWI,EAAX,CAAcH,KAAlC,CAAP;AACA;AACD,UAAO,eAAKD,KAAL,EAAWa,QAAX,gDAAuB,KAAKb,KAAL,CAAWI,EAAX,CAAcU,GAAd,CAAkB;AAAA,WAAMV,GAAGH,KAAT;AAAA,IAAlB,CAAvB,EAAP;AACA;;;;;kBAGaF,S","file":"subscribe.js","sourcesContent":["import { Component } from 'react'\n\nclass Subscribe extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {}\n\t\tif(Array.isArray(this.props.to)){\n\t\t\tthis.multi = true\n\t\t}\n\t\tthis.onChange = this.onChange.bind(this)\n\t}\n\tcomponentWillMount(){\n\t\tif (!this.multi) {\n\t\t\treturn this.props.to.subscribe(this.onChange)\n\t\t}\n\t\tthis.props.to.forEach(to => {\n\t\t\tto.subscribe(this.onChange)\n\t\t})\n\t}\n\tcomponentWillUnmount() {\n\t\tif (!this.multi) {\n\t\t\treturn this.props.to.unsubscribe(this.onChange)\n\t\t}\n\t\tthis.props.to.forEach(to => {\n\t\t\tto.unsubscribe(this.onChange)\n\t\t})\n\t}\n\tonChange(){\n\t\tthis.setState({ changed: true })\n\t}\n\trender() {\n\t\tif (!this.multi) {\n\t\t\treturn this.props.children(this.props.to.state)\n\t\t}\n\t\treturn this.props.children(...this.props.to.map(to => to.state))\n\t}\n}\n\nexport default Subscribe"]}