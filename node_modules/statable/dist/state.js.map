{"version":3,"sources":["../src/state.js"],"names":["State","state","methods","i","bind","subscriptions","Object","assign","forEach","subscription","fn","push","index","indexOf","splice"],"mappings":";;;;;;;;;;;;;;;;IAAMA,K;AACL,gBAAYC,KAAZ,EAAmBC,OAAnB,EAA2B;AAAA;;AAC1B,OAAKD,KAAL,GAAaA,KAAb;AACA,MAAGC,OAAH,EAAY;AACX,QAAI,IAAIC,CAAR,IAAaD,OAAb,EAAqB;AACpB,SAAKC,CAAL,IAAUD,QAAQC,CAAR,EAAWC,IAAX,CAAgB,IAAhB,CAAV;AACA;AACD;AACD,OAAKC,aAAL,GAAqB,EAArB;AACA;;;;2BACQJ,K,EAAM;AAAA;;AACdK,UAAOC,MAAP,CAAc,KAAKN,KAAnB,EAA0BA,KAA1B;AACA,QAAKI,aAAL,CAAmBG,OAAnB,CAA2B,wBAAgB;AAC1CC,iBAAa,MAAKR,KAAlB;AACA,IAFD;AAGA;;;4BACSS,E,EAAG;AACZ,QAAKL,aAAL,CAAmBM,IAAnB,CAAwBD,EAAxB;AACA;;;8BACWA,E,EAAG;AACd,OAAIE,QAAQ,KAAKP,aAAL,CAAmBQ,OAAnB,CAA2BH,EAA3B,CAAZ;AACA,OAAGE,QAAQ,CAAC,CAAZ,EAAc;AACb,SAAKP,aAAL,CAAmBS,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACA;AACD;;;;;kBAGaZ,K","file":"state.js","sourcesContent":["class State{\n\tconstructor(state, methods){\n\t\tthis.state = state\n\t\tif(methods) {\n\t\t\tfor(let i in methods){\n\t\t\t\tthis[i] = methods[i].bind(this)\n\t\t\t}\n\t\t}\n\t\tthis.subscriptions = []\n\t}\n\tsetState(state){\n\t\tObject.assign(this.state, state)\n\t\tthis.subscriptions.forEach(subscription => {\n\t\t\tsubscription(this.state)\n\t\t})\n\t}\n\tsubscribe(fn){\n\t\tthis.subscriptions.push(fn)\n\t}\n\tunsubscribe(fn){\n\t\tlet index = this.subscriptions.indexOf(fn)\n\t\tif(index > -1){\n\t\t\tthis.subscriptions.splice(index, 1)\n\t\t}\n\t}\n}\n\nexport default State"]}